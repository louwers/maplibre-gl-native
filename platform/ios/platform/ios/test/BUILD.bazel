load("@build_bazel_rules_apple//apple:ios.bzl", "ios_build_test", "ios_ui_test")

objc_library(
  name = "ios_tests_src",
  srcs = glob([
    "*.h",
    "*.m"
  ], allow_empty = True),
  deps = [
    "//platform/ios:sdk",
    "//platform/ios/platform/darwin/test:test_utility"
    # "//platform/ios:sdk-headers",
  ]
)

ios_unit_test(
  name = "ios_test",
  minimum_os_version = "12.0",
  deps = [
    "ios_tests_src"
  ],
  visibility = [
    "@rules_xcodeproj//xcodeproj:generated",
  ]
)

ios_build_test(
  name = "my_build_test",
  minimum_os_version = "12.0",
  targets = [
    "ios_tests"
  ]
)
